(this["webpackJsonpthe-evil-plot-of-wolf"]=this["webpackJsonpthe-evil-plot-of-wolf"]||[]).push([[0],[,,function(t){t.exports=JSON.parse('{"baseWith":100,"baseHeight":100,"startScene":1,"duration":1200,"shortDest":[2,3],"cuts":{"container":[{"anchor":"left top","x":0,"y":100},{},{"y":0},{"y":-100}]}}')},function(t){t.exports=JSON.parse('{"baseWith":100,"baseHeight":100,"startScene":1,"duration":1200,"shortDest":[0,1],"cuts":{"container":[{"anchor":"left top","x":0,"y":100},{"y":0}]}}')},,,function(t,e,n){t.exports={container:"scene01_container__1T_E7",stage:"scene01_stage__dsnc2"}},function(t){t.exports=JSON.parse('{"totalScene":2,"deletaSensitive":0.1,"actionStart":10}')},,,,,,,,,,function(t,e,n){},function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),o=n(9),i=n.n(o),a=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),c(t),r(t),o(t),i(t)}))},s=n(4),u=n(5),l=n.n(u),f=n(10),h=n(11),b=function(){function t(e,n){var c,r,o,i,a,s,u,l,h,b;Object(f.a)(this,t),this._x=void 0,this._y=void 0,this._rotate=void 0,this._scale=void 0,this._anchor=void 0,this._x=null!==(c=null!==(r=e.x)&&void 0!==r?r:null===n||void 0===n?void 0:n.x)&&void 0!==c?c:0,this._y=null!==(o=null!==(i=e.y)&&void 0!==i?i:null===n||void 0===n?void 0:n.y)&&void 0!==o?o:0,this._rotate=null!==(a=null!==(s=e.rotate)&&void 0!==s?s:null===n||void 0===n?void 0:n.rotate)&&void 0!==a?a:0,this._scale=null!==(u=null!==(l=e.scale)&&void 0!==l?l:null===n||void 0===n?void 0:n.scale)&&void 0!==u?u:1,this._anchor=null!==(h=null!==(b=e.anchor)&&void 0!==b?b:null===n||void 0===n?void 0:n.anchor)&&void 0!==h?h:"center center"}return Object(h.a)(t,[{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"rotate",get:function(){return this._rotate}},{key:"scale",get:function(){return this._scale}},{key:"anchor",get:function(){return this._anchor}}],[{key:"createAnimationList",value:function(e){var n=e.length,c=Array(n);if(n>0){c[0]=new t(e[0]);for(var r=1;r<n;r+=1)c[r]=new t(e[r],c[r-1])}return c}}]),t}();var d=b.createAnimationList;function v(t,e,n){if(t<=0&&e<=0)return n[0];if(t>=n.length-1&&e>=0)return n[n.length-1];if(0===e)return n[t];var c=n[t],r=e>=0?n[t+1]:n[t-1],o=Math.abs(e),i=function(t,e,n){var c=(e.x-t.x)*n/100;return t.x+c}(c,r,o),a=function(t,e,n){var c=(e.y-t.y)*n/100;return t.y+c}(c,r,o),s=function(t,e,n){var c=(e.rotate-t.rotate)*n/100;return t.rotate+c}(c,r,o),u=function(t,e,n){var c=(e.scale-t.scale)*n/100;return t.scale+c}(c,r,o),l=function(t,e,n){return n>=0?t.anchor:e.anchor}(c,r,o);return new b({x:i,y:a,rotate:s,scale:u,anchor:l})}function j(t,e,n,c,r){var o=c/e,i=r/n,a=(t.x*o).toFixed(2),s=(t.y*i).toFixed(2),u=["translate(".concat(a,"px, ").concat(s,"px)"),"rotate(".concat(t.rotate,"deg)"),"scale(".concat(t.scale,", ").concat(t.scale,")")];return{transformOrigin:t.anchor,transform:u.join(" ")}}var O=n(2),g=n(6),m=n.n(g),x=n(1),y=l.a.bind(m.a);var S=function(t){var e=t.scene,n=t.progress,r=t.width,o=t.height,i=t.registAction,a=Object(c.useState)(0),u=Object(s.a)(a,2),l=u[0],f=u[1],h=Object(c.useMemo)((function(){return O.shortDest.length+O.startScene}),[]),b=Object(c.useMemo)((function(){return y("container")}),[]),g=Object(c.useMemo)((function(){return y("stage")}),[]),m=Object(c.useMemo)((function(){return d(O.cuts.container)}),[]),S=Object(c.useMemo)((function(){var t=O.baseWith,e=O.baseHeight;return j(v(l,n,m),t,e,r,o)}),[m,l,n,r,o]);return Object(c.useEffect)((function(){if(e<h&&e>=O.startScene){var t=e-O.startScene,n=O.shortDest[t];if(l!==n)f(n>l?l+1:n),i(!0)}}),[e,h]),Object(c.useEffect)((function(){var t=O.shortDest[e-1]===l,n=l+1;setTimeout((function(){t?i(!1):f(n)}),O.duration)}),[l]),Object(x.jsx)("div",{className:b,style:S,children:Object(x.jsx)("div",{className:g})})},p=n(3),_=l.a.bind(m.a);var w=function(t){var e=t.scene,n=t.progress,r=t.width,o=t.height,i=t.registAction,a=Object(c.useState)(0),u=Object(s.a)(a,2),l=u[0],f=u[1],h=Object(c.useMemo)((function(){return p.shortDest.length+p.startScene}),[]),b=Object(c.useMemo)((function(){return _("container")}),[]),O=Object(c.useMemo)((function(){return _("stage")}),[]),g=Object(c.useMemo)((function(){return d(p.cuts.container)}),[]),m=Object(c.useMemo)((function(){var t=p.baseWith,e=p.baseHeight;return j(v(l,n,g),t,e,r,o)}),[g,l,n,r,o]);return Object(c.useEffect)((function(){if(e<h&&e>=p.startScene){var t=e-p.startScene,n=p.shortDest[t];if(l!==n)f(n>l?l+1:n),i(!0)}}),[e,h]),Object(c.useEffect)((function(){var t=p.shortDest[e-1]===l,n=l+1;setTimeout((function(){t?i(!1):f(n)}),p.duration)}),[l]),Object(x.jsx)("div",{className:b,style:m,children:Object(x.jsx)("div",{className:O})})},M=n(7);n(17);var k=function(){var t=Object(c.useState)(document.body.clientWidth),e=Object(s.a)(t,2),n=e[0],r=e[1],o=Object(c.useState)(document.body.clientHeight),i=Object(s.a)(o,2),a=i[0],u=i[1],l=Object(c.useState)(1),f=Object(s.a)(l,2),h=f[0],b=f[1],d=Object(c.useState)(0),v=Object(s.a)(d,2),j=v[0],O=v[1],g=Object(c.useRef)(!1),m=Object(c.useRef)(!1),y=Object(c.useRef)(0),p=Object(c.useRef)(),_=Object(c.useMemo)((function(){return h===M.totalScene}),[h]),k=Object(c.useMemo)((function(){return 1===h}),[h]),A=Object(c.useCallback)((function(){_||b(h+1),j&&O(0)}),[_,h,j]),C=Object(c.useCallback)((function(){k||b(h-1),j&&O(0)}),[k,h,j]),D=Object(c.useCallback)((function(t){t?y.current+=1:y.current>0&&(y.current-=1),0===y.current?g.current=!1:!1===g.current&&(g.current=!0)}),[]),E=Object(c.useCallback)((function(t){var e=j+t*M.deletaSensitive;e>0&&_||e<0&&k||(Math.abs(e)>=M.actionStart?(g.current=!0,e>0?A():C()):O(e))}),[j,_,k]),N=Object(c.useCallback)((function(t){m.current||g.current||(window.requestAnimationFrame((function(){m.current=!1,E(t.deltaY),p.current&&clearTimeout(p.current),p.current=setTimeout((function(){g.current||O(0)}),100)})),m.current=!0)}),[E]),F=Object(c.useCallback)((function(){r(document.body.clientWidth),u(document.body.clientHeight)}),[]);return Object(c.useEffect)((function(){return F(),window.addEventListener("resize",F),function(){return window.removeEventListener("resize",F)}}),[F]),Object(x.jsxs)("div",{className:"App",onWheel:N,children:[Object(x.jsx)(S,{scene:h,progress:j,width:n,height:a,registAction:D}),Object(x.jsx)(w,{scene:h,progress:j,width:n,height:a,registAction:D})]})};i.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(k,{})}),document.getElementById("root")),a()}],[[18,1,2]]]);
//# sourceMappingURL=main.49f8d447.chunk.js.map